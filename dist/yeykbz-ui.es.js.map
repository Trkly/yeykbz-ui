{"version":3,"file":"yeykbz-ui.es.js","sources":["../src/Button/Button.tsx","../src/utils/withInstall.ts","../src/Button/index.ts","../src/Card/Card.tsx","../src/Card/index.ts","../src/install.ts"],"sourcesContent":["import { defineComponent, ref } from \"vue\";\nimport type { PropType } from \"vue\";\nimport styles from \"./Button.module.css\";\n\nexport type ISize = \"small\" | \"medium\" | \"large\";\nexport type IColor =\n  | \"black\"\n  | \"gray\"\n  | \"red\"\n  | \"yellow\"\n  | \"green\"\n  | \"blue\"\n  | \"indigo\"\n  | \"purple\"\n  | \"pink\";\n\nexport const props = {\n  // 新增节流配置\n  throttle: {\n    type: Number,\n    default: 500, // 默认 500 毫秒\n  },\n  size: {\n    type: String as PropType<ISize>,\n    default: \"medium\",\n  },\n  color: {\n    type: String as PropType<IColor>,\n    default: \"blue\",\n  },\n  round: {\n    type: Boolean,\n    default: false,\n  },\n  plain: {\n    type: Boolean,\n    default: false,\n  },\n  icon: {\n    type: String,\n    default: \"\",\n  },\n} as const;\n\nexport default defineComponent({\n  name: \"YButton\",\n  props,\n  setup(props, { slots, emit }) {\n    // 新增节流状态\n    const lastClickTime = ref(0);\n    const isThrottling = ref(false);\n\n    // 节流点击处理器\n    const handleThrottledClick = (event: MouseEvent) => {\n      const now = Date.now();\n\n      if (now - lastClickTime.value < props.throttle) {\n        // 节流期内点击\n        if (!isThrottling.value) {\n          isThrottling.value = true;\n          setTimeout(\n            () => {\n              isThrottling.value = false;\n            },\n            props.throttle - (now - lastClickTime.value)\n          );\n        }\n        return;\n      }\n\n      // 有效点击\n      lastClickTime.value = now;\n      emit(\"click\", event);\n    };\n\n    // 原有样式逻辑保持不变...\n    const getColorClass = () => {\n      const classKey = props.plain\n        ? `plain-${props.color}`\n        : `color-${props.color}`;\n      // 这里使用 styles[classKey] 来获取对应的样式类名\n      return styles[classKey] || \"\"; // 防止undefined导致样式异常\n    };\n\n    return () => (\n      <button\n        class={[\n          styles.base,\n          styles[props.size],\n          props.round ? styles.round : styles.square,\n          getColorClass(),\n          styles.hoverEffect,\n          isThrottling.value ? styles.disabled : \"\", // 新增禁用状态样式\n        ]}\n        disabled={isThrottling.value}\n        onClick={handleThrottledClick}\n      >\n        {props.icon && (\n          <i class={`i-ic-baseline-${props.icon} ${styles.icon}`}></i>\n        )}\n        {slots.default?.()}\n      </button>\n    );\n  },\n});\n","import type { App, DefineComponent, Plugin } from \"vue\";\r\n\r\nexport const withInstall = <T extends DefineComponent>(\r\n  comp: T & { name?: string }\r\n) => {\r\n  // eslint-disable-next-line no-unused-vars\r\n  const c = comp as T & { name: string } & { install?: (app: App) => void };\r\n\r\n  c.install = (app: App) => {\r\n    if (!c.name || typeof c.name !== \"string\") {\r\n      throw new Error(\"Component must have a valid name property\");\r\n    }\r\n    app.component(c.name, c);\r\n  };\r\n\r\n  return c as T & Plugin;\r\n};\r\n","import { DefineComponent } from \"vue\";\nimport Button from \"./Button\";\nimport { withInstall } from \"../utils/withInstall\";\n\n// 使用 withInstall 函数来增强 Button 组件\nexport const YButton = withInstall(Button as unknown as DefineComponent);\n\n// 默认导出带install方法的组件\nexport default YButton;\n","import { defineComponent } from \"vue\";\nimport type { PropType } from \"vue\";\nimport styles from \"./Card.module.css\"; // 导入 CSS Modules\n\nexport default defineComponent({\n  name: \"YCard\",\n  props: {\n    shadow: {\n      type: String as PropType<\"always\" | \"hover\" | \"never\">,\n      default: \"always\",\n    },\n    bodyStyle: {\n      type: Object,\n      default: () => ({}),\n    },\n  },\n  setup(props, { slots }) {\n    // 动态阴影类映射\n    const shadowClassMap = {\n      always: styles.shadowAlways,\n      hover: styles.shadowHover,\n      never: styles.shadowNever,\n    };\n\n    // 插槽存在性判断\n    const hasHeader = !!slots.header;\n    const hasFooter = !!slots.footer;\n    const hasImage = !!slots.image;\n    return () => (\n      <div class={[styles.cardBase, shadowClassMap[props.shadow]]}>\n        {/* 图片插槽 */}\n        {hasImage && (\n          <div class={[styles.borderSection, styles.flexCenter, \"border-b\"]}>\n            {slots.image?.()}\n          </div>\n        )}\n\n        {/* Header */}\n        {hasHeader && (\n          <div\n            class={[styles.borderSection, \"border-b p-4\", styles.flexCenter]}\n          >\n            {slots.header?.()}\n          </div>\n        )}\n\n        {/* 内容区 */}\n        <div\n          class={[\n            styles.contentBase,\n            !hasHeader && styles.contentNoHeader,\n            !hasFooter && styles.contentNoFooter,\n          ]}\n          style={props.bodyStyle}\n        >\n          {slots.default?.()}\n        </div>\n\n        {/* Footer */}\n        {hasFooter && (\n          <div\n            class={[styles.borderSection, \"border-t p-4\", styles.flexCenter]}\n          >\n            {slots.footer?.()}\n          </div>\n        )}\n      </div>\n    );\n  },\n});\n","import { DefineComponent } from \"vue\";\nimport Card from \"./Card\";\nimport { withInstall } from \"../utils/withInstall\";\n\n// 使用 withInstall 函数来增强 Button 组件\nexport const YCard = withInstall(Card as unknown as DefineComponent);\n\n// 默认导出带install方法的组件\nexport default YCard;\n","import type { Plugin } from \"vue\";\r\nimport { YButton } from \"./Button\";\r\nimport { YCard } from \"./Card\";\r\n\r\n// 所有组件列表\r\nconst components = [YButton, YCard] as Plugin[];\r\n\r\n// 全局安装函数\r\nexport const install: Plugin[\"install\"] = (app) => {\r\n  components.forEach((component) => {\r\n    app.use(component);\r\n  });\r\n};\r\n// 默认导出带install方法的插件对象\r\nexport const YeykbzUI = {\r\n  install,\r\n  version: \"__VERSION__\",\r\n};\r\n\r\n// export default YeykbzUI;\r\n"],"names":["props","throttle","type","Number","default","size","String","color","round","Boolean","plain","icon","defineComponent","name","setup","slots","emit","lastClickTime","ref","isThrottling","handleThrottledClick","event","now","Date","value","setTimeout","getColorClass","classKey","styles","_createVNode","base","square","hoverEffect","disabled","shadow","bodyStyle","Object","shadowClassMap","always","shadowAlways","hover","shadowHover","never","shadowNever","hasHeader","header","hasFooter","footer","hasImage","image","cardBase","borderSection","flexCenter","contentBase","contentNoHeader","contentNoFooter"],"mappings":"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"}