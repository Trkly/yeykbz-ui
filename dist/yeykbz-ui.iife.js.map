{"version":3,"file":"yeykbz-ui.iife.js","sources":["../src/Button/Button.tsx","../src/utils/withInstall.ts","../src/Button/index.ts","../src/Card/index.ts","../src/Card/Card.tsx","../src/install.ts"],"sourcesContent":["import { defineComponent, ref } from \"vue\";\nimport type { PropType } from \"vue\";\nimport styles from \"./Button.module.css\";\n\nexport type ISize = \"small\" | \"medium\" | \"large\";\nexport type IColor =\n  | \"black\"\n  | \"gray\"\n  | \"red\"\n  | \"yellow\"\n  | \"green\"\n  | \"blue\"\n  | \"indigo\"\n  | \"purple\"\n  | \"pink\";\n\nexport const props = {\n  // 新增节流配置\n  throttle: {\n    type: Number,\n    default: 500, // 默认 500 毫秒\n  },\n  size: {\n    type: String as PropType<ISize>,\n    default: \"medium\",\n  },\n  color: {\n    type: String as PropType<IColor>,\n    default: \"blue\",\n  },\n  round: {\n    type: Boolean,\n    default: false,\n  },\n  plain: {\n    type: Boolean,\n    default: false,\n  },\n  icon: {\n    type: String,\n    default: \"\",\n  },\n} as const;\n\nexport default defineComponent({\n  name: \"YButton\",\n  props,\n  setup(props, { slots, emit }) {\n    // 新增节流状态\n    const lastClickTime = ref(0);\n    const isThrottling = ref(false);\n\n    // 节流点击处理器\n    const handleThrottledClick = (event: MouseEvent) => {\n      const now = Date.now();\n\n      if (now - lastClickTime.value < props.throttle) {\n        // 节流期内点击\n        if (!isThrottling.value) {\n          isThrottling.value = true;\n          setTimeout(\n            () => {\n              isThrottling.value = false;\n            },\n            props.throttle - (now - lastClickTime.value)\n          );\n        }\n        return;\n      }\n\n      // 有效点击\n      lastClickTime.value = now;\n      emit(\"click\", event);\n    };\n\n    // 原有样式逻辑保持不变...\n    const getColorClass = () => {\n      const classKey = props.plain\n        ? `plain-${props.color}`\n        : `color-${props.color}`;\n      // 这里使用 styles[classKey] 来获取对应的样式类名\n      return styles[classKey] || \"\"; // 防止undefined导致样式异常\n    };\n\n    return () => (\n      <button\n        class={[\n          styles.base,\n          styles[props.size],\n          props.round ? styles.round : styles.square,\n          getColorClass(),\n          styles.hoverEffect,\n          isThrottling.value ? styles.disabled : \"\", // 新增禁用状态样式\n        ]}\n        disabled={isThrottling.value}\n        onClick={handleThrottledClick}\n      >\n        {props.icon && (\n          <i class={`i-ic-baseline-${props.icon} ${styles.icon}`}></i>\n        )}\n        {slots.default?.()}\n      </button>\n    );\n  },\n});\n","import type { App, DefineComponent, Plugin } from \"vue\";\r\n\r\nexport const withInstall = <T extends DefineComponent>(\r\n  comp: T & { name?: string }\r\n) => {\r\n  // eslint-disable-next-line no-unused-vars\r\n  const c = comp as T & { name: string } & { install?: (app: App) => void };\r\n\r\n  c.install = (app: App) => {\r\n    if (!c.name || typeof c.name !== \"string\") {\r\n      throw new Error(\"Component must have a valid name property\");\r\n    }\r\n    app.component(c.name, c);\r\n  };\r\n\r\n  return c as T & Plugin;\r\n};\r\n","import { DefineComponent } from \"vue\";\nimport Button from \"./Button\";\nimport { withInstall } from \"../utils/withInstall\";\n\n// 使用 withInstall 函数来增强 Button 组件\nexport const YButton = withInstall(Button as unknown as DefineComponent);\n\n// 默认导出带install方法的组件\nexport default YButton;\n","import { DefineComponent } from \"vue\";\nimport Card from \"./Card\";\nimport { withInstall } from \"../utils/withInstall\";\n\n// 使用 withInstall 函数来增强 Button 组件\nexport const YCard = withInstall(Card as unknown as DefineComponent);\n\n// 默认导出带install方法的组件\nexport default YCard;\n","import { defineComponent } from \"vue\";\nimport type { PropType } from \"vue\";\nimport styles from \"./Card.module.css\"; // 导入 CSS Modules\n\nexport default defineComponent({\n  name: \"YCard\",\n  props: {\n    shadow: {\n      type: String as PropType<\"always\" | \"hover\" | \"never\">,\n      default: \"always\",\n    },\n    bodyStyle: {\n      type: Object,\n      default: () => ({}),\n    },\n  },\n  setup(props, { slots }) {\n    // 动态阴影类映射\n    const shadowClassMap = {\n      always: styles.shadowAlways,\n      hover: styles.shadowHover,\n      never: styles.shadowNever,\n    };\n\n    // 插槽存在性判断\n    const hasHeader = !!slots.header;\n    const hasFooter = !!slots.footer;\n    const hasImage = !!slots.image;\n    return () => (\n      <div class={[styles.cardBase, shadowClassMap[props.shadow]]}>\n        {/* 图片插槽 */}\n        {hasImage && (\n          <div class={[styles.borderSection, styles.flexCenter, \"border-b\"]}>\n            {slots.image?.()}\n          </div>\n        )}\n\n        {/* Header */}\n        {hasHeader && (\n          <div\n            class={[styles.borderSection, \"border-b p-4\", styles.flexCenter]}\n          >\n            {slots.header?.()}\n          </div>\n        )}\n\n        {/* 内容区 */}\n        <div\n          class={[\n            styles.contentBase,\n            !hasHeader && styles.contentNoHeader,\n            !hasFooter && styles.contentNoFooter,\n          ]}\n          style={props.bodyStyle}\n        >\n          {slots.default?.()}\n        </div>\n\n        {/* Footer */}\n        {hasFooter && (\n          <div\n            class={[styles.borderSection, \"border-t p-4\", styles.flexCenter]}\n          >\n            {slots.footer?.()}\n          </div>\n        )}\n      </div>\n    );\n  },\n});\n","import type { Plugin } from \"vue\";\r\nimport { YButton } from \"./Button\";\r\nimport { YCard } from \"./Card\";\r\n\r\n// 所有组件列表\r\nconst components = [YButton, YCard] as Plugin[];\r\n\r\n// 全局安装函数\r\nexport const install: Plugin[\"install\"] = (app) => {\r\n  components.forEach((component) => {\r\n    app.use(component);\r\n  });\r\n};\r\n// 默认导出带install方法的插件对象\r\nexport const YeykbzUI = {\r\n  install,\r\n  version: \"__VERSION__\",\r\n};\r\n\r\n// export default YeykbzUI;\r\n"],"names":["props","throttle","type","Number","default","size","String","color","round","Boolean","plain","icon","withInstall","comp","c","install","app","name","Error","component","YButton","setup","slots","emit","lastClickTime","ref","isThrottling","handleThrottledClick","event","now","Date","value","setTimeout","getColorClass","classKey","styles","_createVNode","createVNode","class","base","square","hoverEffect","disabled","onClick","YCard","shadow","bodyStyle","Object","shadowClassMap","always","hover","never","hasHeader","header","hasFooter","footer","hasImage","image","style","_d","call","components","YeykbzUI","forEach","use","version"],"mappings":"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"}